---
import CategoryFilter from '../components/CategoryFilter.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import ProjectGrid from '../components/ProjectGrid.astro';
import Layout from '../layouts/Layout.astro';
import { defaultProjects } from '../data/defaultProjects';

// Use default projects for initial SSR
const projects = defaultProjects;

// Extract unique categories and add 'All' option
const categories = [
  'All',
  ...new Set(projects.map((project) => project.category)),
];
---

<Layout title="Manuel Gil - Open Source Portfolio">
  <main class="min-h-screen bg-gray-900">
    <Hero />

    <!-- Projects Section -->
    <section class="bg-gray-100 px-4 py-16 sm:px-6 lg:px-8">
      <CategoryFilter categories={categories} />
      <ProjectGrid projects={projects} />
    </section>

    <Footer />
  </main>
</Layout>

<style>
  html {
    scroll-behavior: smooth;
  }
</style>
